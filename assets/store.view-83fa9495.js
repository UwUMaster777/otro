import{_ as b,i as g,g as w,d as T,r as m,o as c,c as r,F as f,e as x,n as v,f as l,h as _,a as o,t as h,j as y,b as k}from"./index-c65a3c12.js";import{g as q}from"./categories.service-a244361a.js";const C={props:{categories:{required:!0},rows:{required:!1,default:2},category:{type:Number,required:!1,default:g},subcategory:{type:Number,required:!1,default:g},franchise:{type:Number,required:!1,default:g},searchLabel:{required:!1,default:!1},isManga:{required:!1,default:!1}},data(){return{products:[],productsHeight:this.productsHeight=14+15*(this.rows-1),limit:this.rows*15}},methods:{getProducts(){this.searchLabel?w(this.searchLabel,this.limit,this.category,this.subcategory,this.franchise).then(e=>{for(let a=0;a<e.length;a++)e[a].imageOpacity=1,e[a].showText=0;this.products=e}).catch(e=>{console.log(e)}):T(this.limit,this.category,this.subcategory,this.franchise).then(e=>{for(let a=0;a<e.length;a++)e[a].imageOpacity=1,e[a].showText=0;this.products=e}).catch(e=>{console.log(e)})},showText(e){e.showText=1,e.imageOpacity=.3},hideText(e){e.showText=0,e.imageOpacity=1},showProduct(e){this.$emit("product",e)}},created(){this.isManga&&(this.productsHeight=21+22*(this.rows-1)),this.getProducts()}},p=["onMouseenter","onMouseleave","onClick"],N={class:"product-text text-2 montserrat title"},M={class:"product-text text-0 montserrat franchise"};function L(e,a,t,P,s,n){const d=m("pv-image");return c(),r("div",{class:"flex-auto gap-2 products",style:_(`max-height: ${s.productsHeight}rem`)},[(c(!0),r(f,null,x(s.products,i=>(c(),r("div",{class:v(["width-min",this.isManga?"manga-black-background":"black-background border-radius"]),key:i.id,onMouseenter:u=>n.showText(i),onMouseleave:u=>n.hideText(i),onClick:u=>n.showProduct(i)},[l(d,{src:`/images/product-images/${i.id}/${i.image[0]}`,alt:i.name,class:v(["background-image flex-col align-center",this.isManga?"manga-image":"image"]),style:_(`opacity: ${i.imageOpacity};`)},null,8,["src","alt","style","class"]),o("div",{class:"data",style:_(`opacity: ${i.showText};`)},[o("div",N,h(i.name),1),o("div",M,h(t.categories[i.category].subcategory[i.subcategory].franchise[i.franchise].name),1)],4)],42,p))),128))],4)}const B=b(C,[["render",L]]);const O={props:{product:{required:!0},categories:{required:!0}},data(){return{}}},H={class:"width-full"};function D(e,a,t,P,s,n){const d=m("pv-image");return c(),r("div",H,[l(d,{class:"big-component",src:`/images/category-images/${t.product.id}/big.png`},null,8,["src"])])}const F=b(O,[["render",D]]),V={components:{productGroupComponent:B,bigProductComponent:F},data(){return{categories:[],bigProduct:{},ignoreThisPart:g}},props:{category:{default:g,type:Number,required:!1},subcategory:{default:g,type:Number,required:!1},franchise:{default:g,type:Number,required:!1}},methods:{async getCategories(){await q().then(e=>{console.log(e),this.categories=e}).catch(e=>{console.log(e)})},getBigProduct(){this.category===g?y(this.categories[0].bigProduct).then(e=>{this.bigProduct=e}):this.subcategory===g?y(this.categories[this.category].bigProduct).then(e=>{this.bigProduct=e}):y(this.categories[this.category].subcategory[this.subcategory].bigProduct).then(e=>{this.bigProduct=e})},showProduct(e){this.$emit("product",e)}},created(){this.getCategories().then(e=>{this.getBigProduct()})}},z={key:0,class:"margin-2"},G={class:"margin-2"},S={class:"flex align-center text-4"},j={class:"flex align-center text-1"},E={key:1,class:"margin-2"},I={class:"margin-2"},A={class:"margin-2"},J={class:"flex align-center text-4"},K={key:2,class:"margin-2"},Q={class:"margin-2"},R={class:"margin-2"},U={class:"flex align-center text-4"},W={key:3,class:"margin-2"},X={class:"margin-2"},Y={class:"margin-2"},Z={class:"flex align-center text-4"};function $(e,a,t,P,s,n){const d=m("bigProductComponent"),i=m("product-group-component");return c(),r(f,null,[l(d,{categories:s.categories,product:this.bigProduct},null,8,["categories","product"]),t.category===s.ignoreThisPart?(c(),r("div",z,[(c(!0),r(f,null,x(s.categories,u=>(c(),r("div",{key:u.id,class:"margin-2"},[o("div",G,[o("div",S,h(u.title),1),o("div",j,h(u.subtitle),1)]),l(i,{categories:s.categories,category:u.id,rows:2,onProduct:n.showProduct,"is-manga":u.id===2},null,8,["categories","category","onProduct","is-manga"])]))),128))])):t.category!==s.ignoreThisPart&&t.subcategory===s.ignoreThisPart?(c(),r("div",E,[o("div",I,[o("div",A,[o("div",J,h(s.categories[this.category].name),1)]),l(i,{categories:s.categories,category:t.category,rows:10,onProduct:n.showProduct,"is-manga":t.category===2},null,8,["categories","category","onProduct","is-manga"])])])):t.category!==s.ignoreThisPart&&t.subcategory!==s.ignoreThisPart&&t.franchise===s.ignoreThisPart?(c(),r("div",K,[o("div",Q,[o("div",R,[o("div",U,h(s.categories[t.category].subcategory[t.subcategory].name),1)]),l(i,{categories:s.categories,category:t.category,subcategory:t.subcategory,rows:10,onProduct:n.showProduct,"is-manga":t.category===2},null,8,["categories","category","subcategory","onProduct","is-manga"])])])):t.category!==s.ignoreThisPart&&t.subcategory!==s.ignoreThisPart&&t.franchise!==s.ignoreThisPart?(c(),r("div",W,[o("div",X,[o("div",Y,[o("div",Z,h(s.categories[t.category].subcategory[t.subcategory].franchise[t.franchise].name),1)]),l(i,{categories:s.categories,category:t.category,subcategory:t.subcategory,franchise:t.franchise,rows:10,onProduct:n.showProduct,"is-manga":t.category===2},null,8,["categories","category","subcategory","franchise","onProduct","is-manga"])])])):k("",!0)],64)}const se=b(V,[["render",$]]);export{se as default};
